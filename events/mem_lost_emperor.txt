
##########################
###  The Lost Emperor  ###
###  by Caligula       ###
##########################

namespace = mem_lost_emperor

ship_event = {
	id = mem_lost_emperor.1
	title = mem_lost_emperor.1.name
	desc = mem_lost_emperor.1.desc
	picture = GFX_evt_enigmatic_cache

	is_triggered_only = yes

	immediate = {
		solar_system = {
			save_event_target_as = mem_lost_emperor_system
		}
	}

	option = { #Leave be
		name = mem_lost_emperor.1.A
	}
	
	option = { #Check it out
		name = mem_lost_emperor.1.B

		ship_event = { id = mem_lost_emperor.2 days = 1 }
	}
	
	option = { #Establish Comms
		name = mem_lost_emperor.1.C

		ship_event = { id = mem_lost_emperor.4 days = 1 }
	}
}

#Check it out
ship_event = {
	id = mem_lost_emperor.2
	title = mem_lost_emperor.2.name
	desc = mem_lost_emperor.2.desc
	picture = GFX_evt_enigmatic_cache

	is_triggered_only = yes

	option = { #Leave be
		name = mem_lost_emperor.2.A
	}
	
	option = { #Check it out
		name = mem_lost_emperor.2.B

		ship_event = { id = mem_lost_emperor.3 days = 1 }
	}
	
	option = { #Establish Comms
		name = mem_lost_emperor.2.C

		ship_event = { id = mem_lost_emperor.4 days = 1 }
	}
}

ship_event = {
	id = mem_lost_emperor.3
	title = mem_lost_emperor.3.name
	desc = mem_lost_emperor.3.desc
	picture = GFX_evt_exploding_ship

	is_triggered_only = yes

	option = { #Leave be
		name = mem_lost_emperor.3.A
	}
	
	option = { #Send military next time
		name = mem_lost_emperor.3.B

		enable_special_project = {
			name = mem_lost_emperor_military_investigate
			location = event_target:mem_lost_emperor_system.star
		}
	}

	after = {
		destroy_ship = this
	}
}

#Establish comms
ship_event = {
	id = mem_lost_emperor.4
	title = mem_lost_emperor.4.name
	desc = mem_lost_emperor.4.desc

	is_triggered_only = yes
	diplomatic = yes

	picture_event_data = {
		room = no_video_feed_room
	}

	#Dialogues
	option = {
		name = mem_lost_emperor.4.A.dialogue
		response_text = mem_lost_emperor.classified
	}
	option = {
		name = mem_lost_emperor.4.B.dialogue
		response_text = mem_lost_emperor.classified
	}
	option = {
		name = mem_lost_emperor.4.C.dialogue
		response_text = mem_lost_emperor.classified
	}
	option = {
		name = mem_lost_emperor.4.D.dialogue
		response_text = mem_lost_emperor.4.D.response
	}
	option = {
		name = mem_lost_emperor.4.E.dialogue
		response_text = mem_lost_emperor.4.E.response
	}

	#Actions
	
	option = { #Whatever
		name = mem_lost_emperor.4.F.action
		
		ship_event = { id = mem_lost_emperor.3 days = 1 }
	}
	
	option = { #Leave be
		name = mem_lost_emperor.4.G.action

	}
	
	option = { #Return with military
		name = mem_lost_emperor.4.H.action

		custom_tooltip = mem_lost_emperor.4.H.action.tooltip

		enable_special_project = {
			name = mem_lost_emperor_military_investigate
			location = event_target:mem_lost_emperor_system.star
		}
	}
}


#Azran activates itself
ship_event = {
	id = mem_lost_emperor.5
	title = mem_lost_emperor.5.name
	desc = mem_lost_emperor.5.desc

	is_triggered_only = yes

	immediate = {
		solar_system.star = {
			create_country = {
				type = faction
				name = "Azran"
			}
			create_fleet = {
				name = "Azran"

				settings = {
					spawn_debris = no

					#Enable this once I am satisfied that I have made a very strong but beatable foe
#					is_boss = yes
				}

				effect = {
					set_owner = last_created_country

					create_ship_design = {
						design = "NAME_Azran"
					}
					create_ship = {
						name = "NAME_Azran"
						design = last_created_design
						upgradable = no
					}

					set_location = prev
				}
			}
		}
	}

	option = {
		name = mem_lost_emperor.5.option
	}
}




#Remember to despawn Azran and respawn the project if you retreat!