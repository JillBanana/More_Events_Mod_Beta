#############
#The Lunar Age
#By ViolentBeetle
#############

namespace = mem_lunar_age

#DEBUG EVENT
country_event = {
	id = mem_lunar_age.9999
	
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		capital_scope = {
			spawn_system = {
				min_distance = 20
				max_distance = 50
				initializer = "mem_lunar_age_system"
			}
		}
	}
}

#On action: homeworld surveyed
ship_event = {
	id = mem_lunar_age.1
	title = mem_lunar_age.1.name
	desc = mem_lunar_age.1.desc
	
	picture = GFX_evt_metropolis
	location = FROM
	
	is_triggered_only = yes
	
	trigger = {
		FROM = {
			exists = owner
			owner = {
				has_country_flag = mem_lunar_age
				is_country_type = primitive
			}
		}
		owner = {
			NOT = { has_country_flag = mem_lunar_age_surveyed }
		}
	}
	
	immediate = {
		owner = {
			set_country_flag = mem_lunar_age_surveyed
		}
	}
	
	option = {
		name = INTERESTING
		owner = {
			hidden_effect = { country_event = { id = story.6 days = 30 } }
		}
	}
}

#On action: surveyed colony
ship_event = {
	id = mem_lunar_age.2
	title = mem_lunar_age.2.name
	desc = mem_lunar_age.2.desc
	
	picture = GFX_evt_metropolis
	location = FROM
	
	is_triggered_only = yes
	
	trigger = {
		FROM = {
			exists = owner
			owner = {
				has_country_flag = mem_lunar_age_colony
				is_country_type = primitive
			}
		}
		owner = {
			NOT = { has_country_flag = mem_lunar_age_surveyed }
		}
	}
	
	immediate = {
		owner = {
			set_country_flag = mem_lunar_age_surveyed
		}
	}
	
	option = {
		name = INTERESTING
		owner = {
			hidden_effect = { country_event = { id = story.6 days = 30 } }
		}
	}
}